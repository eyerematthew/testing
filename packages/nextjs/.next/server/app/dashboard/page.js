(()=>{var e={};e.id=5105,e.ids=[5105],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},8086:e=>{"use strict";e.exports=require("module")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},12412:e=>{"use strict";e.exports=require("assert")},16978:(e,t,r)=>{"use strict";r.d(t,{Providers:()=>u});var s=r(47818),a=r(74615),i=r(68821),n=r(86111),l=r(11043),o=r(90589),d=r(59614);let c=(0,l.Y8)({appName:"Private OTC Marketplace",projectId:process.env.NEXT_PUBLIC_WALLET_CONNECT_PROJECT_ID||"default",chains:[o.G,d.H],ssr:!0});r(6776);let x=new a.E;function u({children:e}){return(0,s.jsx)(n.x,{config:c,children:(0,s.jsx)(i.Ht,{client:x,children:(0,s.jsx)(l.qL,{children:e})})})}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},26239:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var s=r(47818),a=r(70336),i=r(11043),n=r(3977),l=r.n(n),o=r(22195),d=r(85058),c=r(91531);let x=process.env.NEXT_PUBLIC_OTC_MARKETPLACE_ADDRESS||"",u=["function getUserOrders(address user) external view returns (uint256[])","function getOrder(uint256 orderId) external view returns (uint256, address, address, tuple(bytes,bytes), tuple(bytes,bytes), tuple(bytes,bytes), bool, uint256, uint256)","function cancelOrder(uint256 orderId) external"];function m(){let{address:e}=(0,a.F)(),t=(0,c.N)(),[r,i]=(0,o.useState)([]),[n,l]=(0,o.useState)(!1),[m,h]=(0,o.useState)(null),p=async()=>{if(t&&e){l(!0);try{let r=new d.NZ(x,u,t),s=(await r.getUserOrders(e)).map(async e=>{try{let t=await r.getOrder(Number(e));return{orderId:Number(e),owner:t[1],asset:t[2],isBuy:t[6],expiration:Number(t[7]),created:Number(t[8])}}catch{return null}}),a=await Promise.all(s);i(a.filter(e=>null!==e))}catch(e){console.error("Failed to load orders",e)}finally{l(!1)}}},b=async e=>{if(t){h(e);try{let r=new d.NZ(x,u,t),s=await r.cancelOrder(e);await s.wait(),await p()}catch(e){console.error("Cancel failed",e)}finally{h(null)}}};return n?(0,s.jsx)("div",{className:"text-center py-12 text-gray-400",children:"Loading your orders..."}):0===r.length?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("p",{className:"text-gray-400 mb-4",children:"You have no active orders"}),(0,s.jsx)("a",{href:"/trade",className:"inline-block px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-semibold transition-colors",children:"Create Your First Order"})]}):(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold text-white",children:["Your Orders (",r.length,")"]}),(0,s.jsx)("button",{onClick:p,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors text-sm",children:"Refresh"})]}),r.map(e=>(0,s.jsxs)("div",{className:"bg-slate-700/50 border border-slate-600 rounded-lg p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${e.isBuy?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:e.isBuy?"BUY":"SELL"}),(0,s.jsxs)("span",{className:"text-gray-400 text-sm",children:["Order #",e.orderId]})]}),(0,s.jsx)("button",{onClick:()=>b(e.orderId),disabled:m===e.orderId,className:"px-4 py-2 bg-red-600 hover:bg-red-700 disabled:bg-slate-700 disabled:text-gray-500 text-white rounded-lg text-sm font-medium transition-colors",children:m===e.orderId?"Cancelling...":"Cancel"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-400",children:"Asset:"}),(0,s.jsxs)("div",{className:"text-white font-mono",children:[e.asset.slice(0,10),"...",e.asset.slice(-8)]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-400",children:"Created:"}),(0,s.jsx)("div",{className:"text-white",children:new Date(1e3*e.created).toLocaleDateString()})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-400",children:"Expires:"}),(0,s.jsx)("div",{className:"text-white",children:new Date(1e3*e.expiration).toLocaleDateString()})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-400",children:"Status:"}),(0,s.jsx)("div",{className:"text-green-400 font-semibold",children:"Active"})]})]})]},e.orderId))]})}let h=process.env.NEXT_PUBLIC_OTC_MARKETPLACE_ADDRESS||"",p=["function getUserMatches(address user) external view returns (uint256[])","function getMatch(uint256 matchId) external view returns (uint256, uint256, uint256, tuple(bytes,bytes), tuple(bytes,bytes), uint256, address, address)"];function b(){let{address:e}=(0,a.F)(),t=(0,c.N)(),[r,i]=(0,o.useState)([]),[n,l]=(0,o.useState)(!1),x=async()=>{if(t&&e){l(!0);try{let r=new d.NZ(h,p,t),s=(await r.getUserMatches(e)).map(async e=>{try{let t=await r.getMatch(Number(e));return{matchId:Number(e),buyOrderId:Number(t[1]),sellOrderId:Number(t[2]),timestamp:Number(t[5]),buyer:t[6],seller:t[7]}}catch{return null}}),a=await Promise.all(s);i(a.filter(e=>null!==e))}catch(e){console.error("Failed to load matches",e)}finally{l(!1)}}};return n?(0,s.jsx)("div",{className:"text-center py-12 text-gray-400",children:"Loading your matches..."}):0===r.length?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("p",{className:"text-gray-400 mb-4",children:"You have no matches yet"}),(0,s.jsx)("a",{href:"/trade",className:"inline-block px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-semibold transition-colors",children:"Start Trading"})]}):(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold text-white",children:["Your Matches (",r.length,")"]}),(0,s.jsx)("button",{onClick:x,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors text-sm",children:"Refresh"})]}),r.map(t=>(0,s.jsxs)("div",{className:"bg-slate-700/50 border border-slate-600 rounded-lg p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-semibold bg-purple-500/20 text-purple-400",children:"MATCH"}),(0,s.jsxs)("span",{className:"text-gray-400 text-sm",children:["Match #",t.matchId]})]}),(0,s.jsx)("div",{className:"text-sm text-gray-400",children:new Date(1e3*t.timestamp).toLocaleDateString()})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-400",children:"Buy Order ID:"}),(0,s.jsxs)("div",{className:"text-white font-semibold",children:["#",t.buyOrderId]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-400",children:"Sell Order ID:"}),(0,s.jsxs)("div",{className:"text-white font-semibold",children:["#",t.sellOrderId]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-400",children:"Buyer:"}),(0,s.jsxs)("div",{className:"text-white font-mono text-xs",children:[t.buyer.slice(0,10),"...",t.buyer.slice(-8)]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-gray-400",children:"Seller:"}),(0,s.jsxs)("div",{className:"text-white font-mono text-xs",children:[t.seller.slice(0,10),"...",t.seller.slice(-8)]})]})]}),(0,s.jsx)("div",{className:"mt-3 pt-3 border-t border-slate-600",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm text-gray-400",children:"Your Role:"}),(0,s.jsx)("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${t.buyer.toLowerCase()===e?.toLowerCase()?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:t.buyer.toLowerCase()===e?.toLowerCase()?"BUYER":"SELLER"})]})})]},t.matchId))]})}function v(){let{isConnected:e,address:t}=(0,a.F)(),[r,n]=(0,o.useState)("orders");return e?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsxs)("nav",{className:"flex justify-between items-center mb-8",children:[(0,s.jsxs)("div",{className:"flex items-center gap-8",children:[(0,s.jsx)(l(),{href:"/",className:"text-2xl font-bold text-white",children:"Private OTC"}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)(l(),{href:"/trade",className:"text-gray-400 hover:text-white",children:"Trade"}),(0,s.jsx)(l(),{href:"/dashboard",className:"text-purple-400 font-semibold",children:"Dashboard"}),(0,s.jsx)(l(),{href:"/portfolio",className:"text-gray-400 hover:text-white",children:"Portfolio"})]})]}),(0,s.jsx)(i.pK,{})]}),(0,s.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,s.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur rounded-xl border border-slate-700 p-6 mb-8",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"My Dashboard"}),(0,s.jsx)("p",{className:"text-gray-400 font-mono text-sm",children:t})]}),(0,s.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur rounded-xl border border-slate-700 overflow-hidden",children:[(0,s.jsxs)("div",{className:"flex border-b border-slate-700",children:[(0,s.jsx)("button",{onClick:()=>n("orders"),className:`flex-1 px-6 py-4 font-semibold transition-colors ${"orders"===r?"bg-purple-600 text-white":"text-gray-400 hover:text-white"}`,children:"My Orders"}),(0,s.jsx)("button",{onClick:()=>n("matches"),className:`flex-1 px-6 py-4 font-semibold transition-colors ${"matches"===r?"bg-purple-600 text-white":"text-gray-400 hover:text-white"}`,children:"My Matches"})]}),(0,s.jsxs)("div",{className:"p-8",children:["orders"===r&&(0,s.jsx)(m,{}),"matches"===r&&(0,s.jsx)(b,{})]})]})]})]})}):(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h2",{className:"text-3xl font-bold text-white mb-4",children:"Connect Wallet"}),(0,s.jsx)("p",{className:"text-gray-400 mb-8",children:"Please connect your wallet to view dashboard"}),(0,s.jsx)(i.pK,{})]})})}},27122:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>x,pages:()=>c,routeModule:()=>u,tree:()=>d});var s=r(12208),a=r(93295),i=r(38311),n=r.n(i),l=r(95192),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let d={children:["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,63662)),"/home/matt24/private-otc-marketplace/packages/nextjs/app/dashboard/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,81686)),"/home/matt24/private-otc-marketplace/packages/nextjs/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,25733,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,73960,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,25321,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/home/matt24/private-otc-marketplace/packages/nextjs/app/dashboard/page.tsx"],x={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},32814:(e,t,r)=>{Promise.resolve().then(r.bind(r,26239))},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},40297:()=>{},41732:(e,t,r)=>{Promise.resolve().then(r.bind(r,43412))},43412:(e,t,r)=>{"use strict";r.d(t,{Providers:()=>s});let s=(0,r(75884).registerClientReference)(function(){throw Error("Attempted to call Providers() from the server but Providers is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/matt24/private-otc-marketplace/packages/nextjs/app/providers.tsx","Providers")},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},62773:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,13717,23)),Promise.resolve().then(r.t.bind(r,50805,23)),Promise.resolve().then(r.t.bind(r,15357,23)),Promise.resolve().then(r.t.bind(r,12540,23)),Promise.resolve().then(r.t.bind(r,83332,23)),Promise.resolve().then(r.t.bind(r,91032,23)),Promise.resolve().then(r.t.bind(r,95598,23)),Promise.resolve().then(r.t.bind(r,37520,23))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63662:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(75884).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/matt24/private-otc-marketplace/packages/nextjs/app/dashboard/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/matt24/private-otc-marketplace/packages/nextjs/app/dashboard/page.tsx","default")},65700:(e,t,r)=>{Promise.resolve().then(r.bind(r,16978))},72134:(e,t,r)=>{Promise.resolve().then(r.bind(r,63662))},72501:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,93583,23)),Promise.resolve().then(r.t.bind(r,37891,23)),Promise.resolve().then(r.t.bind(r,38311,23)),Promise.resolve().then(r.t.bind(r,37158,23)),Promise.resolve().then(r.t.bind(r,36274,23)),Promise.resolve().then(r.t.bind(r,23078,23)),Promise.resolve().then(r.t.bind(r,73468,23)),Promise.resolve().then(r.t.bind(r,67206,23))},73566:e=>{"use strict";e.exports=require("worker_threads")},74075:e=>{"use strict";e.exports=require("zlib")},77598:e=>{"use strict";e.exports=require("node:crypto")},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},79646:e=>{"use strict";e.exports=require("child_process")},81630:e=>{"use strict";e.exports=require("http")},81686:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n,metadata:()=>i});var s=r(67144);r(40297);var a=r(43412);let i={title:"Private OTC Marketplace",description:"Fully encrypted over-the-counter trading platform"};function n({children:e}){return(0,s.jsx)("html",{lang:"en",children:(0,s.jsx)("body",{children:(0,s.jsx)(a.Providers,{children:e})})})}},83997:e=>{"use strict";e.exports=require("tty")},91531:(e,t,r)=>{"use strict";r.d(t,{N:()=>l});var s=r(22195),a=r(16802),i=r(38875),n=r(53264);function l(){let{data:e}=(0,a.G)();return(0,s.useMemo)(()=>e?function(e){let{account:t,chain:r,transport:s}=e,a={chainId:r.id,name:r.name,ensAddress:r.contracts?.ensRegistry?.address},l=new i.k(s,a);return new n.cP(l,t.address)}(e):void 0,[e])}},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[2821,3977,4128,2112],()=>r(27122));module.exports=s})();