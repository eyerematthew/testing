(()=>{var e={};e.id=5281,e.ids=[5281],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},8086:e=>{"use strict";e.exports=require("module")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},12412:e=>{"use strict";e.exports=require("assert")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},43502:(e,t,r)=>{Promise.resolve().then(r.bind(r,43846))},43846:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(75884).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/matt24/private-otc-marketplace/packages/nextjs/app/portfolio/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/matt24/private-otc-marketplace/packages/nextjs/app/portfolio/page.tsx","default")},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},73566:e=>{"use strict";e.exports=require("worker_threads")},74075:e=>{"use strict";e.exports=require("zlib")},77598:e=>{"use strict";e.exports=require("node:crypto")},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},79646:e=>{"use strict";e.exports=require("child_process")},81630:e=>{"use strict";e.exports=require("http")},83254:(e,t,r)=>{Promise.resolve().then(r.bind(r,92967))},83997:e=>{"use strict";e.exports=require("tty")},86290:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>d});var s=r(12208),a=r(93295),o=r(38311),l=r.n(o),i=r(95192),n={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>i[e]);r.d(t,n);let d={children:["",{children:["portfolio",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,43846)),"/home/matt24/private-otc-marketplace/packages/nextjs/app/portfolio/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,81686)),"/home/matt24/private-otc-marketplace/packages/nextjs/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,25733,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,73960,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,25321,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/home/matt24/private-otc-marketplace/packages/nextjs/app/portfolio/page.tsx"],p={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/portfolio/page",pathname:"/portfolio",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},91645:e=>{"use strict";e.exports=require("net")},92967:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>b});var s=r(47818),a=r(70336),o=r(11043),l=r(3977),i=r.n(l),n=r(22195),d=r(1990),c=r(91531),p=r(63924),u=r(85058);let x=process.env.NEXT_PUBLIC_OTC_MARKETPLACE_ADDRESS||"",m=["function deposit(address asset, tuple(bytes,bytes) amount, bytes inputProof) external","function withdraw(address asset, tuple(bytes,bytes) amount, bytes inputProof) external","function getBalance(address user, address asset) external view returns (tuple(bytes,bytes))"];function h(){let{address:e}=(0,a.F)(),t=(0,c.N)(),{canEncrypt:r,encryptWith:o}=(0,d.W6)(),[l,i]=(0,n.useState)("deposit"),[h,b]=(0,n.useState)(""),[f,g]=(0,n.useState)(""),[v,j]=(0,n.useState)(!1),[y,w]=(0,n.useState)(""),[N,k]=(0,n.useState)(""),[q,P]=(0,n.useState)(""),[_,C]=(0,n.useState)(null),[A,S]=(0,n.useState)(!1),{decryptedValue:E,isDecrypting:B}=(0,d.KB)(_,x),T=async s=>{if(s.preventDefault(),k(""),w(""),!t||!e||!r){k("Please connect wallet and wait for encryption to be ready");return}if(!p.PW(h)){k("Invalid asset address");return}j(!0);try{let e=Math.floor(1e18*parseFloat(f)),r=await o(t=>{t.add64(e)}),s=new u.NZ(x,m,t),a="deposit"===l?await s.deposit(h,r.handles[0],r.inputProof):await s.withdraw(h,r.handles[0],r.inputProof);w(a.hash),await a.wait(),b(""),g("")}catch(e){k(e.message||"Transaction failed")}finally{j(!1)}},D=async()=>{if(!t||!e||!p.PW(q)){k("Invalid asset address");return}S(!0),k("");try{let r=new u.NZ(x,m,t),s=await r.getBalance(e,q);C(s)}catch(e){k(e.message||"Failed to load balance")}finally{S(!1)}};return(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur rounded-xl border border-slate-700 p-8",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold text-white mb-6",children:"Manage Balance"}),(0,s.jsxs)("div",{className:"flex gap-4 mb-6",children:[(0,s.jsx)("button",{onClick:()=>i("deposit"),className:`flex-1 px-6 py-3 rounded-lg font-semibold transition-colors ${"deposit"===l?"bg-green-600 text-white":"bg-slate-700 text-gray-400 hover:text-white"}`,children:"Deposit"}),(0,s.jsx)("button",{onClick:()=>i("withdraw"),className:`flex-1 px-6 py-3 rounded-lg font-semibold transition-colors ${"withdraw"===l?"bg-red-600 text-white":"bg-slate-700 text-gray-400 hover:text-white"}`,children:"Withdraw"})]}),(0,s.jsxs)("form",{onSubmit:T,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Asset Address"}),(0,s.jsx)("input",{type:"text",value:h,onChange:e=>b(e.target.value),className:"w-full px-4 py-3 bg-slate-700 border border-slate-600 rounded-lg text-white focus:outline-none focus:border-purple-500",placeholder:"0x...",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Amount"}),(0,s.jsx)("input",{type:"number",step:"0.000001",value:f,onChange:e=>g(e.target.value),className:"w-full px-4 py-3 bg-slate-700 border border-slate-600 rounded-lg text-white focus:outline-none focus:border-purple-500",placeholder:"0.0",required:!0})]}),N&&(0,s.jsx)("div",{className:"p-4 bg-red-500/10 border border-red-500 rounded-lg text-red-400",children:N}),y&&(0,s.jsxs)("div",{className:"p-4 bg-green-500/10 border border-green-500 rounded-lg text-green-400",children:["Transaction: ",y.slice(0,10),"..."]}),(0,s.jsx)("button",{type:"submit",disabled:v||!r,className:"w-full px-6 py-4 bg-purple-600 hover:bg-purple-700 disabled:bg-slate-700 disabled:text-gray-500 text-white rounded-lg font-semibold transition-colors",children:v?"Processing...":"deposit"===l?"Deposit":"Withdraw"})]})]}),(0,s.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur rounded-xl border border-slate-700 p-8",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold text-white mb-6",children:"Check Balance"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Asset Address"}),(0,s.jsx)("input",{type:"text",value:q,onChange:e=>P(e.target.value),className:"w-full px-4 py-3 bg-slate-700 border border-slate-600 rounded-lg text-white focus:outline-none focus:border-purple-500",placeholder:"0x..."})]}),(0,s.jsx)("button",{onClick:D,disabled:A,className:"w-full px-6 py-4 bg-slate-700 hover:bg-slate-600 disabled:bg-slate-800 disabled:text-gray-500 text-white rounded-lg font-semibold transition-colors",children:A?"Loading...":"Check Balance"}),_&&(0,s.jsxs)("div",{className:"p-4 bg-slate-700/50 border border-slate-600 rounded-lg",children:[(0,s.jsx)("div",{className:"text-sm text-gray-400 mb-2",children:"Balance:"}),B?(0,s.jsx)("div",{className:"text-white",children:"Decrypting..."}):void 0!==E?(0,s.jsx)("div",{className:"text-2xl font-bold text-white",children:(Number(E)/1e18).toFixed(6)}):(0,s.jsx)("div",{className:"text-gray-400",children:"Click to decrypt"})]})]})]})]})}function b(){let{isConnected:e,address:t}=(0,a.F)();return e?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsxs)("nav",{className:"flex justify-between items-center mb-8",children:[(0,s.jsxs)("div",{className:"flex items-center gap-8",children:[(0,s.jsx)(i(),{href:"/",className:"text-2xl font-bold text-white",children:"Private OTC"}),(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)(i(),{href:"/trade",className:"text-gray-400 hover:text-white",children:"Trade"}),(0,s.jsx)(i(),{href:"/dashboard",className:"text-gray-400 hover:text-white",children:"Dashboard"}),(0,s.jsx)(i(),{href:"/portfolio",className:"text-purple-400 font-semibold",children:"Portfolio"})]})]}),(0,s.jsx)(o.pK,{})]}),(0,s.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,s.jsxs)("div",{className:"bg-slate-800/50 backdrop-blur rounded-xl border border-slate-700 p-6 mb-8",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-white mb-2",children:"Portfolio"}),(0,s.jsx)("p",{className:"text-gray-400 font-mono text-sm",children:t})]}),(0,s.jsx)(h,{})]})]})}):(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h2",{className:"text-3xl font-bold text-white mb-4",children:"Connect Wallet"}),(0,s.jsx)("p",{className:"text-gray-400 mb-8",children:"Please connect your wallet to view portfolio"}),(0,s.jsx)(o.pK,{})]})})}},94735:e=>{"use strict";e.exports=require("events")}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[2821,3977,4128,2112,3077],()=>r(86290));module.exports=s})();